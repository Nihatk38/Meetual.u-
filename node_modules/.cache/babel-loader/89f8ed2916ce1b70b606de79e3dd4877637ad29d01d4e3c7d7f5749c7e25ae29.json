{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"h-full\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FullCalendar = _resolveComponent(\"FullCalendar\");\n  const _component_EditBookingDialog = _resolveComponent(\"EditBookingDialog\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_FullCalendar, {\n    options: _ctx.calendarOptions\n  }, null, 8 /* PROPS */, [\"options\"])]), $setup.dialog ? (_openBlock(), _createBlock(_component_EditBookingDialog, {\n    key: 0,\n    closeDialog: $setup.closeDialog,\n    userId: $setup.selectedUser.Id\n  }, null, 8 /* PROPS */, [\"closeDialog\", \"userId\"])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_1","_createVNode","_component_FullCalendar","options","_ctx","calendarOptions","$setup","dialog","_createBlock","_component_EditBookingDialog","closeDialog","userId","selectedUser","Id"],"sources":["C:\\Users\\tkara.KARAHAN\\OneDrive\\Masaüstü\\Yeni klasör\\meetual.ui\\src\\components\\BookingHub\\views\\BookingHubList.vue"],"sourcesContent":["<template>\r\n  <div class=\"h-full \">\r\n    <FullCalendar :options=\"calendarOptions\"/>\r\n  </div>\r\n  <EditBookingDialog v-if=\"dialog\" :closeDialog=\"closeDialog\" :userId=\"selectedUser.Id\" />\r\n</template>\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\n\r\nimport FullCalendar from '@fullcalendar/vue3';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport trLocale from '@fullcalendar/core/locales/tr';\r\n\r\nimport EditBookingDialog from \"@/components/BookingHub/components/editBookingDialog.vue\";\r\n\r\nimport bookingData from \"@/auxiliary/userBookingInfos.json\";\r\n\r\n\r\nexport default {\r\n  name: 'BookingHubList',\r\n  components: {FullCalendar, EditBookingDialog},\r\n  setup() {\r\n    const consultationParticipantList = ref([]);\r\n    const selectedUser = ref()\r\n    const dialog = ref(false)\r\n    const menu = ref()\r\n    const calendarOptions = ref({\r\n      plugins: [dayGridPlugin],\r\n      initialView: 'dayGridMonth',\r\n      selectable: true,\r\n      timeFormat: 'H:mm',\r\n      locale: trLocale,\r\n      titleFormat: { // will produce something like \"Tuesday, September 18, 2018\"\r\n        hour: 'numeric',\r\n\r\n      },\r\n      events: [\r\n        {\r\n          title: 'Danışan1',\r\n          start: '2023-11-01T09:00:00',\r\n          end: '2023-11-01T11:30:00'\r\n        }\r\n      ],\r\n    })\r\n    const prepareTheData = () => {\r\n      const data = bookingData.bookingList;\r\n      const status = sessionStorage.getItem('user.Status');\r\n      const userId = sessionStorage.getItem('user.UserId');\r\n      if(status==2){\r\n        data.forEach(booking=>{\r\n          if(booking.AdvisorId==userId)\r\n            calendarOptions.value.events.push(booking)\r\n        })\r\n      }else if(status==3){\r\n        data.forEach(booking=>{\r\n          if(booking.ClientId==userId)\r\n            calendarOptions.value.events.push(booking)\r\n        })\r\n      }\r\n      calendarOptions.value.events.forEach(event => {\r\n        const start = new Date(event.start);\r\n        const end = new Date(event.end);\r\n        event.title = event.title + \"-> \" + start.toLocaleTimeString('tr-TR', {\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })+\"-\"+end.toLocaleTimeString('tr-TR', {\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })\r\n      })\r\n    }\r\n\r\n    const menuModel = ref([\r\n      {\r\n        label: \"Randevu Oluştur\",\r\n        icon: \"pi pi-plus\",\r\n        command: () => {\r\n          openDialog()\r\n        }\r\n      },\r\n    ])\r\n\r\n    const openDialog = () => {\r\n      dialog.value = true;\r\n    }\r\n\r\n    const closeDialog = () => {\r\n      dialog.value = false;\r\n    }\r\n\r\n    const onRowContextMenu = (event) => {\r\n      menu.value.show(event.originalEvent);\r\n    };\r\n\r\n    onMounted(async () => {\r\n      await prepareTheData()\r\n    })\r\n    return {\r\n      consultationParticipantList, selectedUser, dialog, menuModel, menu,\r\n      openDialog, closeDialog, onRowContextMenu\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAS;;;;6DAApBC,mBAAA,CAEM,OAFNC,UAEM,GADJC,YAAA,CAA0CC,uBAAA;IAA3BC,OAAO,EAAEC,IAAA,CAAAC;EAAe,qC,GAEhBC,MAAA,CAAAC,MAAM,I,cAA/BC,YAAA,CAAwFC,4BAAA;;IAAtDC,WAAW,EAAEJ,MAAA,CAAAI,WAAW;IAAGC,MAAM,EAAEL,MAAA,CAAAM,YAAY,CAACC"},"metadata":{},"sourceType":"module","externalDependencies":[]}